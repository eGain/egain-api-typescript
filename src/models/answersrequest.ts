/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { safeParse } from "../lib/schemas.js";
import { ClosedEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

/**
 * The channel where the query originated, e.g., directly from the portal or via a custom integration.
 */
export const AnswersRequestType = {
  Portal: "portal",
  Custom: "custom",
} as const;
/**
 * The channel where the query originated, e.g., directly from the portal or via a custom integration.
 */
export type AnswersRequestType = ClosedEnum<typeof AnswersRequestType>;

export type AnswersRequestChannel = {
  /**
   * The channel where the query originated, e.g., directly from the portal or via a custom integration.
   */
  type?: AnswersRequestType | undefined;
  /**
   * A descriptive name for the channel (e.g., "web", "mobile app", "agent console").
   */
  name?: string | undefined;
};

/**
 * Additional contextual metadata that enriches the query, providing the LLM with relevant details for tailoring the response.
 */
export type Context = {
  /**
   * Information about the end user (e.g., preferences, profile data, or behavioral signals).
   */
  userContext?: string | undefined;
  /**
   * Details about the UI or page where the query was initiated (e.g., page URL, section, or component).
   */
  pageContext?: string | undefined;
  /**
   * Information about the organization associated with the user, used for tailoring responses in enterprise environments.
   */
  companyContext?: string | undefined;
};

export type AnswersRequest = {
  channel?: AnswersRequestChannel | undefined;
  /**
   * Additional contextual metadata that enriches the query, providing the LLM with relevant details for tailoring the response.
   */
  context?: Context | undefined;
  /**
   * Unique ID for this specific API call or event.
   */
  eventId?: string | undefined;
  /**
   * ID that ties multiple API calls to the same user session. Will be used as part of to tie events back to a session.
   */
  sessionId?: string | undefined;
};

/** @internal */
export const AnswersRequestType$inboundSchema: z.ZodNativeEnum<
  typeof AnswersRequestType
> = z.nativeEnum(AnswersRequestType);

/** @internal */
export const AnswersRequestType$outboundSchema: z.ZodNativeEnum<
  typeof AnswersRequestType
> = AnswersRequestType$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace AnswersRequestType$ {
  /** @deprecated use `AnswersRequestType$inboundSchema` instead. */
  export const inboundSchema = AnswersRequestType$inboundSchema;
  /** @deprecated use `AnswersRequestType$outboundSchema` instead. */
  export const outboundSchema = AnswersRequestType$outboundSchema;
}

/** @internal */
export const AnswersRequestChannel$inboundSchema: z.ZodType<
  AnswersRequestChannel,
  z.ZodTypeDef,
  unknown
> = z.object({
  type: AnswersRequestType$inboundSchema.default("custom"),
  name: z.string().optional(),
});

/** @internal */
export type AnswersRequestChannel$Outbound = {
  type: string;
  name?: string | undefined;
};

/** @internal */
export const AnswersRequestChannel$outboundSchema: z.ZodType<
  AnswersRequestChannel$Outbound,
  z.ZodTypeDef,
  AnswersRequestChannel
> = z.object({
  type: AnswersRequestType$outboundSchema.default("custom"),
  name: z.string().optional(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace AnswersRequestChannel$ {
  /** @deprecated use `AnswersRequestChannel$inboundSchema` instead. */
  export const inboundSchema = AnswersRequestChannel$inboundSchema;
  /** @deprecated use `AnswersRequestChannel$outboundSchema` instead. */
  export const outboundSchema = AnswersRequestChannel$outboundSchema;
  /** @deprecated use `AnswersRequestChannel$Outbound` instead. */
  export type Outbound = AnswersRequestChannel$Outbound;
}

export function answersRequestChannelToJSON(
  answersRequestChannel: AnswersRequestChannel,
): string {
  return JSON.stringify(
    AnswersRequestChannel$outboundSchema.parse(answersRequestChannel),
  );
}

export function answersRequestChannelFromJSON(
  jsonString: string,
): SafeParseResult<AnswersRequestChannel, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => AnswersRequestChannel$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'AnswersRequestChannel' from JSON`,
  );
}

/** @internal */
export const Context$inboundSchema: z.ZodType<Context, z.ZodTypeDef, unknown> =
  z.object({
    userContext: z.string().optional(),
    pageContext: z.string().optional(),
    companyContext: z.string().optional(),
  });

/** @internal */
export type Context$Outbound = {
  userContext?: string | undefined;
  pageContext?: string | undefined;
  companyContext?: string | undefined;
};

/** @internal */
export const Context$outboundSchema: z.ZodType<
  Context$Outbound,
  z.ZodTypeDef,
  Context
> = z.object({
  userContext: z.string().optional(),
  pageContext: z.string().optional(),
  companyContext: z.string().optional(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace Context$ {
  /** @deprecated use `Context$inboundSchema` instead. */
  export const inboundSchema = Context$inboundSchema;
  /** @deprecated use `Context$outboundSchema` instead. */
  export const outboundSchema = Context$outboundSchema;
  /** @deprecated use `Context$Outbound` instead. */
  export type Outbound = Context$Outbound;
}

export function contextToJSON(context: Context): string {
  return JSON.stringify(Context$outboundSchema.parse(context));
}

export function contextFromJSON(
  jsonString: string,
): SafeParseResult<Context, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Context$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Context' from JSON`,
  );
}

/** @internal */
export const AnswersRequest$inboundSchema: z.ZodType<
  AnswersRequest,
  z.ZodTypeDef,
  unknown
> = z.object({
  channel: z.lazy(() => AnswersRequestChannel$inboundSchema).optional(),
  context: z.lazy(() => Context$inboundSchema).optional(),
  eventId: z.string().optional(),
  sessionId: z.string().optional(),
});

/** @internal */
export type AnswersRequest$Outbound = {
  channel?: AnswersRequestChannel$Outbound | undefined;
  context?: Context$Outbound | undefined;
  eventId?: string | undefined;
  sessionId?: string | undefined;
};

/** @internal */
export const AnswersRequest$outboundSchema: z.ZodType<
  AnswersRequest$Outbound,
  z.ZodTypeDef,
  AnswersRequest
> = z.object({
  channel: z.lazy(() => AnswersRequestChannel$outboundSchema).optional(),
  context: z.lazy(() => Context$outboundSchema).optional(),
  eventId: z.string().optional(),
  sessionId: z.string().optional(),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace AnswersRequest$ {
  /** @deprecated use `AnswersRequest$inboundSchema` instead. */
  export const inboundSchema = AnswersRequest$inboundSchema;
  /** @deprecated use `AnswersRequest$outboundSchema` instead. */
  export const outboundSchema = AnswersRequest$outboundSchema;
  /** @deprecated use `AnswersRequest$Outbound` instead. */
  export type Outbound = AnswersRequest$Outbound;
}

export function answersRequestToJSON(answersRequest: AnswersRequest): string {
  return JSON.stringify(AnswersRequest$outboundSchema.parse(answersRequest));
}

export function answersRequestFromJSON(
  jsonString: string,
): SafeParseResult<AnswersRequest, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => AnswersRequest$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'AnswersRequest' from JSON`,
  );
}
